{
  "info": {
    "name": "Waymore Transactional Emails Service API",
    "description": "Complete API collection for the Waymore Transactional Emails Service v2.2. Updated to reflect the actual implemented API endpoints including authentication, email sending, comprehensive template management with fallback syntax validation, admin monitoring, webhook testing, and system health checks.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "2.2.0"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{jwt_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "jwt_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "recipient_email",
      "value": "test@example.com",
      "type": "string"
    },
    {
      "key": "recipient_name",
      "value": "Test User",
      "type": "string"
    },
    {
      "key": "user_firstname",
      "value": "John",
      "type": "string"
    },
    {
      "key": "product_name",
      "value": "Waymore Platform",
      "type": "string"
    },
    {
      "key": "message_id",
      "value": "msg_abc123def456",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Get JWT Token",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/test-token",
              "host": ["{{base_url}}"],
              "path": ["test-token"]
            },
            "description": "Get a JWT token for API authentication. This is a development endpoint that generates a test token valid for 1 hour."
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.token) {",
                  "        pm.collectionVariables.set('jwt_token', response.token);",
                  "        console.log('JWT token automatically set in collection variables');",
                  "        console.log('Token expires in:', response.expiresIn);",
                  "    } else {",
                  "        console.log('No token found in response');",
                  "    }",
                  "} else {",
                  "    console.log('Failed to get JWT token. Status:', pm.response.code);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/test-token",
                  "host": ["{{base_url}}"],
                  "path": ["test-token"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"expiresIn\": \"1 hour\",\n  \"scopes\": [\"emails:send\", \"emails:read\"]\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Email Operations",
      "item": [
        {
          "name": "Send Email - Welcome (Database Template)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Idempotency-Key",
                "value": "{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"from\": {\n    \"email\": \"marketing@waymore.io\",\n    \"name\": \"Waymore Team\"\n  },\n  \"subject\": \"Welcome to Waymore Platform\",\n  \"template\": {\n    \"key\": \"transactional\",\n    \"locale\": \"en\"\n  },\n  \"to\": [\n    {\n      \"email\": \"{{recipient_email}}\",\n      \"name\": \"{{recipient_name}}\"\n    }\n  ],\n  \"variables\": {\n    \"workspace_name\": \"Acme Corp\",\n    \"user_firstname\": \"{{user_firstname}}\",\n    \"product_name\": \"{{product_name}}\",\n    \"dashboard_url\": \"https://app.waymore.io/dashboard\",\n    \"support_email\": \"support@waymore.io\"\n  },\n  \"metadata\": {\n    \"tenantId\": \"acme_corp\",\n    \"eventId\": \"welcome_user\",\n    \"notificationType\": \"welcome\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/emails",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "emails"]
            },
            "description": "Send an email using a database-driven template with simplified variables. The template structure is stored in the database and referenced by key. This is the main endpoint for sending emails through the gateway."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  },
                  {
                    "key": "Idempotency-Key",
                    "value": "{{$timestamp}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"from\": {\n    \"email\": \"marketing@waymore.io\",\n    \"name\": \"Waymore Team\"\n  },\n  \"subject\": \"Welcome to Waymore Platform\",\n  \"template\": {\n    \"key\": \"transactional\",\n    \"locale\": \"en\"\n  },\n  \"to\": [\n    {\n      \"email\": \"{{recipient_email}}\",\n      \"name\": \"{{recipient_name}}\"\n    }\n  ],\n  \"variables\": {\n    \"workspace_name\": \"Acme Corp\",\n    \"user_firstname\": \"{{user_firstname}}\",\n    \"product_name\": \"{{product_name}}\",\n    \"support_email\": \"support@waymore.io\",\n    \"title\": {\n      \"text\": \"Welcome to Waymore!\"\n    },\n    \"body\": {\n      \"content\": [\n        \"Hello {{user_firstname}},\",\n        \"\",\n        \"üéâ <strong>Welcome to {{product_name}}!</strong>\",\n        \"\",\n        \"We're excited to have you on board. Here are some quick tips to get you started:\",\n        \"\",\n        \"‚Ä¢ <strong>Explore the dashboard</strong> to see your workspace overview\",\n        \"‚Ä¢ <strong>Invite team members</strong> to collaborate on your projects\",\n        \"‚Ä¢ <strong>Check out our documentation</strong> for detailed guides\",\n        \"\",\n        \"If you have any questions, don't hesitate to reach out to our support team.\"\n      ]\n    },\n    \"snapshot\": {\n      \"title\": \"Account Details\",\n      \"style\": \"table\",\n      \"facts\": [\n        {\"label\": \"Account Type:\", \"value\": \"Pro Plan\"},\n        {\"label\": \"Workspace:\", \"value\": \"Acme Corp\"},\n        {\"label\": \"Setup Status:\", \"value\": \"Complete\"}\n      ]\n    },\n    \"actions\": {\n      \"primary\": {\n        \"label\": \"Get Started\",\n        \"url\": \"https://go.waymore.io/dashboard\",\n        \"style\": \"button\"\n      },\n      \"secondary\": {\n        \"label\": \"View Documentation\",\n        \"url\": \"https://docs.waymore.io\",\n        \"style\": \"link\"\n      }\n    }\n  },\n  \"metadata\": {\n    \"tenantId\": \"acme_corp\",\n    \"eventId\": \"welcome_user\",\n    \"notificationType\": \"welcome\"\n  }\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{base_url}}/api/v1/emails",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "emails"]
                }
              },
              "status": "Accepted",
              "code": 202,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"messageId\": \"msg_abc123\",\n  \"status\": \"queued\"\n}"
            }
          ]
        },
        {
          "name": "Send Email - Base Template (Variables)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Idempotency-Key",
                "value": "{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"from\": {\n    \"email\": \"noreply@waymore.io\",\n    \"name\": \"Waymore System\"\n  },\n  \"subject\": \"Password Reset Request\",\n  \"template\": {\n    \"key\": \"forgot-password\",\n    \"locale\": \"__base__\"\n  },\n  \"to\": [\n    {\n      \"email\": \"{{recipient_email}}\",\n      \"name\": \"{{recipient_name}}\"\n    }\n  ],\n  \"variables\": {\n    \"user.name\": \"{{user_firstname}}\",\n    \"company.name\": \"Waymore\",\n    \"company.logo_url\": \"https://i.ibb.co/8LfvqPk7/Waymore-logo-Colour.png\",\n    \"title.text\": \"Reset your password\",\n    \"greeting\": \"Hello\",\n    \"body.intro\": \"We received a request to reset your password\",\n    \"body.instruction\": \"Click the button below to set a new password\",\n    \"body.security_note\": \"If you did not request this, please ignore this email\",\n    \"reset.url\": \"https://app.waymore.io/reset-password?token=abc123\",\n    \"reset.expiry_minutes\": \"30\",\n    \"security.request_ip\": \"192.168.1.1\",\n    \"security.request_location\": \"New York, NY\",\n    \"security.device\": \"MacBook Pro\",\n    \"security.browser\": \"Chrome 120.0\",\n    \"security.request_time\": \"Dec 15, 2024 at 2:30 PM\",\n    \"footer.tagline\": \"Powered by Waymore\",\n    \"footer.copyright\": \"¬© 2024 Waymore. All rights reserved.\",\n    \"footer.legal.privacy.url\": \"https://waymore.io/privacy\",\n    \"footer.legal.privacy.label\": \"Privacy Policy\",\n    \"footer.legal.terms.url\": \"https://waymore.io/terms\",\n    \"footer.legal.terms.label\": \"Terms of Service\"\n  },\n  \"metadata\": {\n    \"tenantId\": \"acme_corp\",\n    \"eventId\": \"password_reset\",\n    \"notificationType\": \"security\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/emails",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "emails"]
            },
            "description": "Send email using the base template structure with variables (__base__ locale). This demonstrates how to use the base template that contains Handlebars variables instead of resolved values. The system will use the base template structure and render it with the provided variables."
          }
        },
        {
          "name": "Send Email - Payment Success (Database Template)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Idempotency-Key",
                "value": "{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"from\": {\n    \"email\": \"marketing@waymore.io\",\n    \"name\": \"Waymore Team\"\n  },\n  \"subject\": \"Payment received for your Pro plan ‚Äì Acme Corp\",\n  \"template\": {\n    \"key\": \"transactional\",\n    \"locale\": \"en\"\n  },\n  \"to\": [\n    {\n      \"email\": \"{{recipient_email}}\",\n      \"name\": \"{{recipient_name}}\"\n    }\n  ],\n  \"variables\": {\n    \"workspace_name\": \"Acme Corp\",\n    \"user_firstname\": \"{{user_firstname}}\",\n    \"product_name\": \"{{product_name}}\",\n    \"support_email\": \"support@waymore.io\",\n    \"title\": {\n      \"text\": \"Payment Received\"\n    },\n    \"body\": {\n      \"content\": [\n        \"Hello {{user_firstname}},\",\n        \"\",\n        \"‚úÖ <strong>Payment received successfully!</strong>\",\n        \"\",\n        \"Thank you for your payment. Your Pro plan subscription has been renewed and is now active.\"\n      ]\n    },\n    \"snapshot\": {\n      \"title\": \"Transaction Details\",\n      \"style\": \"table\",\n      \"facts\": [\n        {\"label\": \"Amount:\", \"value\": \"$29.00\"},\n        {\"label\": \"Plan:\", \"value\": \"Pro Plan\"},\n        {\"label\": \"Billing Period:\", \"value\": \"Monthly\"},\n        {\"label\": \"Next Billing Date:\", \"value\": \"March 15, 2024\"}\n      ]\n    },\n    \"actions\": {\n      \"primary\": {\n        \"label\": \"View Invoice\",\n        \"url\": \"https://go.waymore.io/billing\",\n        \"style\": \"button\"\n      },\n      \"secondary\": {\n        \"label\": \"Manage Subscription\",\n        \"url\": \"https://go.waymore.io/settings/billing\",\n        \"style\": \"link\"\n      }\n    }\n  },\n  \"metadata\": {\n    \"tenantId\": \"acme_corp\",\n    \"eventId\": \"payment_success\",\n    \"notificationType\": \"billing\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/emails",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "emails"]
            },
            "description": "Send a payment success notification email using a database-driven template with simplified variables."
          }
        },
        {
          "name": "Send Email - Usage Warning (Database Template)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Idempotency-Key",
                "value": "{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"from\": {\n    \"email\": \"marketing@waymore.io\",\n    \"name\": \"Waymore Team\"\n  },\n  \"subject\": \"You've used 80% of your Pro plan ‚Äì Acme Corp\",\n  \"template\": {\n    \"key\": \"transactional\",\n    \"locale\": \"en\"\n  },\n  \"to\": [\n    {\n      \"email\": \"{{recipient_email}}\",\n      \"name\": \"{{recipient_name}}\"\n    }\n  ],\n  \"variables\": {\n    \"workspace_name\": \"Acme Corp\",\n    \"user_firstname\": \"{{user_firstname}}\",\n    \"product_name\": \"{{product_name}}\",\n    \"support_email\": \"support@waymore.io\",\n    \"title\": {\n      \"text\": \"Usage Alert\"\n    },\n    \"body\": {\n      \"content\": [\n        \"Hello {{user_firstname}},\",\n        \"\",\n        \"‚ö†Ô∏è <strong>You've used 80% of your Pro plan</strong>\",\n        \"\",\n        \"You're approaching your monthly limit. Consider upgrading to avoid any service interruption.\"\n      ]\n    },\n    \"visual\": {\n      \"type\": \"progress\",\n      \"progress_bars\": [\n        {\n          \"label\": \"API Requests\",\n          \"current\": 8000,\n          \"total\": 10000,\n          \"percentage\": 80,\n          \"unit\": \"requests\",\n          \"color\": \"#f59e0b\",\n          \"description\": \"Monthly usage\"\n        }\n      ]\n    },\n    \"snapshot\": {\n      \"title\": \"Usage Summary\",\n      \"style\": \"table\",\n      \"facts\": [\n        {\"label\": \"Current Usage:\", \"value\": \"80%\"},\n        {\"label\": \"Plan Limit:\", \"value\": \"10,000 requests\"},\n        {\"label\": \"Used:\", \"value\": \"8,000 requests\"},\n        {\"label\": \"Remaining:\", \"value\": \"2,000 requests\"}\n      ]\n    },\n    \"actions\": {\n      \"primary\": {\n        \"label\": \"Upgrade Plan\",\n        \"url\": \"https://go.waymore.io/upgrade\",\n        \"style\": \"button\"\n      },\n      \"secondary\": {\n        \"label\": \"View Usage Details\",\n        \"url\": \"https://go.waymore.io/usage\",\n        \"style\": \"link\"\n      }\n    }\n  },\n  \"metadata\": {\n    \"tenantId\": \"acme_corp\",\n    \"eventId\": \"usage_warning\",\n    \"notificationType\": \"usage\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/emails",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "emails"]
            },
            "description": "Send a usage warning email when users approach their plan limits using the new object-based structure with progress bars."
          }
        }
      ]
    },
    {
      "name": "Message Status",
      "item": [
        {
          "name": "Get Message Status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/messages/msg_abc123",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "messages", "msg_abc123"]
            },
            "description": "Get the status of a sent email message by its message ID."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/api/v1/messages/msg_abc123",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "messages", "msg_abc123"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"messageId\": \"msg_abc123\",\n  \"status\": \"delivered\",\n  \"timestamp\": \"2024-03-01T10:30:00Z\",\n  \"events\": [\n    {\n      \"type\": \"sent\",\n      \"timestamp\": \"2024-03-01T10:29:00Z\"\n    },\n    {\n      \"type\": \"delivered\",\n      \"timestamp\": \"2024-03-01T10:30:00Z\"\n    }\n  ]\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "System Health",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            },
            "description": "Check the detailed health status of the email gateway service."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/health",
                  "host": ["{{base_url}}"],
                  "path": ["health"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": \"healthy\",\n  \"timestamp\": \"2024-03-01T10:30:00Z\",\n  \"version\": \"1.0.0\"\n}"
            }
          ]
        },
        {
          "name": "Liveness Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/healthz",
              "host": ["{{base_url}}"],
              "path": ["healthz"]
            },
            "description": "Liveness probe for Kubernetes health checks."
          }
        },
        {
          "name": "Readiness Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/readyz",
              "host": ["{{base_url}}"],
              "path": ["readyz"]
            },
            "description": "Readiness probe for Kubernetes health checks."
          }
        },
        {
          "name": "Metrics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/metrics",
              "host": ["{{base_url}}"],
              "path": ["metrics"]
            },
            "description": "Get service metrics and statistics."
          }
        }
      ]
    },
    {
      "name": "Admin Dashboard",
      "item": [
        {
          "name": "Admin Dashboard",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin",
              "host": ["{{base_url}}"],
              "path": ["admin"]
            },
            "description": "Access the admin dashboard for monitoring and management."
          }
        },
        {
          "name": "Admin API Data",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/api/data",
              "host": ["{{base_url}}"],
              "path": ["admin", "api", "data"]
            },
            "description": "Get admin dashboard data including statistics and recent activity."
          }
        },
        {
          "name": "Message Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/messages/{{message_id}}",
              "host": ["{{base_url}}"],
              "path": ["admin", "messages", "{{message_id}}"]
            },
            "description": "Get detailed information about a specific message."
          }
        },
        {
          "name": "Webhook Events",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/api/webhooks",
              "host": ["{{base_url}}"],
              "path": ["admin", "api", "webhooks"]
            },
            "description": "Get recent webhook events for monitoring."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/admin/api/webhooks",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "api", "webhooks"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"events\": [\n    {\n      \"id\": \"webhook_123\",\n      \"provider\": \"routee\",\n      \"event\": \"delivered\",\n      \"messageId\": \"msg_abc123\",\n      \"timestamp\": \"2024-01-01T10:00:00Z\",\n      \"status\": \"processed\"\n    }\n  ],\n  \"total\": 150,\n  \"page\": 1,\n  \"limit\": 20\n}"
            }
          ]
        },
        {
          "name": "Webhook Events by Message",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/api/webhooks/{{message_id}}",
              "host": ["{{base_url}}"],
              "path": ["admin", "api", "webhooks", "{{message_id}}"]
            },
            "description": "Get webhook events for a specific message."
          }
        },
        {
          "name": "Search by Recipient",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/search?email={{recipient_email}}&page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["admin", "search"],
              "query": [
                {
                  "key": "email",
                  "value": "{{recipient_email}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Search for messages by recipient email address."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/admin/search?email={{recipient_email}}&page=1&limit=20",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "search"],
                  "query": [
                    {
                      "key": "email",
                      "value": "{{recipient_email}}"
                    },
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "20"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"messages\": [\n    {\n      \"messageId\": \"msg_abc123\",\n      \"status\": \"sent\",\n      \"recipient\": \"user@example.com\",\n      \"subject\": \"Welcome to Waymore!\",\n      \"createdAt\": \"2024-01-01T10:00:00Z\",\n      \"templateKey\": \"transactional\"\n    }\n  ],\n  \"total\": 25,\n  \"page\": 1,\n  \"limit\": 20\n}"
            }
          ]
        },
        {
          "name": "Send Test Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": [\n    {\n      \"email\": \"{{recipient_email}}\",\n      \"name\": \"{{recipient_name}}\"\n    }\n  ],\n  \"subject\": \"Test Email\",\n  \"template\": {\n    \"key\": \"transactional\",\n    \"locale\": \"en\"\n  },\n  \"variables\": {\n    \"workspace_name\": \"Waymore\",\n    \"user_firstname\": \"{{user_firstname}}\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/admin/send-test-email",
              "host": ["{{base_url}}"],
              "path": ["admin", "send-test-email"]
            },
            "description": "Send a test email from the admin interface (no authentication required)."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"to\": [\n    {\n      \"email\": \"{{recipient_email}}\",\n      \"name\": \"{{recipient_name}}\"\n    }\n  ],\n  \"subject\": \"Test Email\",\n  \"template\": {\n    \"key\": \"transactional\",\n    \"locale\": \"en\"\n  },\n  \"variables\": {\n    \"workspace_name\": \"Waymore\",\n    \"user_firstname\": \"{{user_firstname}}\"\n  }\n}"
                },
                "url": {
                  "raw": "{{base_url}}/admin/send-test-email",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "send-test-email"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"messageId\": \"test_1234567890_abcdef\",\n  \"status\": \"queued\",\n  \"message\": \"Test email queued successfully\"\n}"
            }
          ]
        },
        {
          "name": "Template Editor",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/template-editor",
              "host": ["{{base_url}}"],
              "path": ["admin", "template-editor"]
            },
            "description": "Access the template editor interface."
          }
        },
        {
          "name": "Documentation Viewer",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/complete",
              "host": ["{{base_url}}"],
              "path": ["api", "complete"]
            },
            "description": "View documentation files in the browser."
          }
        },
        {
          "name": "Postman Collection Download",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/Email-Gateway-API.postman_collection.json",
              "host": ["{{base_url}}"],
              "path": ["Email-Gateway-API.postman_collection.json"]
            },
            "description": "Download the Postman collection for API testing."
          }
        }
      ]
    },
    {
      "name": "Webhooks",
      "item": [
        {
          "name": "Routee Webhook - Delivered",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"delivered\",\n  \"messageId\": \"msg_abc123\",\n  \"timestamp\": \"2024-03-01T10:30:00Z\",\n  \"recipient\": \"{{recipient_email}}\",\n  \"provider\": \"routee\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/webhooks/routee",
              "host": ["{{base_url}}"],
              "path": ["webhooks", "routee"]
            },
            "description": "Simulate a Routee webhook for delivered email event."
          }
        },
        {
          "name": "Routee Webhook - Opened",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"opened\",\n  \"messageId\": \"msg_abc123\",\n  \"timestamp\": \"2024-03-01T10:35:00Z\",\n  \"recipient\": \"{{recipient_email}}\",\n  \"provider\": \"routee\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/webhooks/routee",
              "host": ["{{base_url}}"],
              "path": ["webhooks", "routee"]
            },
            "description": "Simulate a Routee webhook for opened email event."
          }
        },
        {
          "name": "Routee Webhook - Clicked",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"clicked\",\n  \"messageId\": \"msg_abc123\",\n  \"timestamp\": \"2024-03-01T10:40:00Z\",\n  \"recipient\": \"{{recipient_email}}\",\n  \"provider\": \"routee\",\n  \"url\": \"https://go.waymore.io/dashboard\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/webhooks/routee",
              "host": ["{{base_url}}"],
              "path": ["webhooks", "routee"]
            },
            "description": "Simulate a Routee webhook for clicked email event."
          }
        },
        {
          "name": "Routee Webhook - Bounced",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"bounced\",\n  \"messageId\": \"msg_abc123\",\n  \"timestamp\": \"2024-03-01T10:30:00Z\",\n  \"recipient\": \"invalid@example.com\",\n  \"provider\": \"routee\",\n  \"reason\": \"invalid_email\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/webhooks/routee",
              "host": ["{{base_url}}"],
              "path": ["webhooks", "routee"]
            },
            "description": "Simulate a Routee webhook for bounced email event."
          }
        }
      ]
    },
    {
      "name": "Template Management",
      "item": [
        {
          "name": "List Templates",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/templates",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates"]
            },
            "description": "Retrieve all available templates with optional filtering."
          }
        },
        {
          "name": "Get Template",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}"]
            },
            "description": "Retrieve a specific template by key."
          }
        },
        {
          "name": "Create Template",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"key\": \"welcome-email\",\n  \"name\": \"Welcome Email\",\n  \"description\": \"Welcome new users to the platform with proper fallback syntax\",\n  \"category\": \"onboarding\",\n  \"variableSchema\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"user_name\": {\"type\": \"string\"},\n      \"company_name\": {\"type\": \"string\"},\n      \"dashboard_url\": {\"type\": \"string\"}\n    },\n    \"required\": [\"user_name\", \"company_name\", \"dashboard_url\"]\n  },\n  \"jsonStructure\": {\n    \"title\": {\n      \"text\": \"{{title.text|Welcome to Waymore!}}\",\n      \"size\": \"{{title.size|28px}}\",\n      \"weight\": \"{{title.weight|700}}\",\n      \"color\": \"{{title.color|#1f2937}}\",\n      \"align\": \"{{title.align|center}}\"\n    },\n    \"body\": {\n      \"paragraphs\": [\n        \"{{greeting|Hello}} {{user_name|John}}, {{welcome.message|welcome to our platform!}}\",\n        \"{{body.instruction|We're excited to have you on board. Click the button below to get started:}}\"\n      ],\n      \"fontSize\": \"{{body.fontSize|16px}}\",\n      \"lineHeight\": \"{{body.lineHeight|26px}}\"\n    },\n    \"actions\": {\n      \"primary\": {\n        \"label\": \"{{actions.primary.label|Get Started}}\",\n        \"url\": \"{{dashboard_url|https://app.example.com}}\",\n        \"style\": \"{{actions.primary.style|button}}\",\n        \"color\": \"{{actions.primary.color|#3b82f6}}\",\n        \"text_color\": \"{{actions.primary.text_color|#ffffff}}\"\n      }\n    },\n    \"footer\": {\n      \"tagline\": \"{{footer.tagline|Waymore - Your Success Partner}}\",\n      \"copyright\": \"{{footer.copyright|¬© 2024 Waymore. All rights reserved.}}\"\n    }\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/templates",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates"]
            },
            "description": "Create a new email template with fallback syntax validation. \n\n‚ö†Ô∏è **IMPORTANT**: The system validates fallback syntax to prevent Handlebars parsing errors.\n\n‚úÖ **Valid fallback syntax**: `{{variable|fallback_value}}`\n‚ùå **Invalid fallback syntax**: `{{variable|text with {{nested}} variables}}`\n\n**Error codes**:\n- `INVALID_FALLBACK_SYNTAX`: Nested variables in fallback values\n- `VALIDATION_ERROR`: Missing required fields\n- `TEMPLATE_EXISTS`: Template key already exists"
          }
        },
        {
          "name": "Update Template",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Welcome Email Updated\",\n  \"description\": \"Updated welcome email template\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}"]
            },
            "description": "Update an existing template."
          }
        },
        {
          "name": "Delete Template",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}"]
            },
            "description": "Delete a template and all its locales."
          }
        },
        {
          "name": "Add Locale",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"locale\": \"{{locale}}\",\n  \"jsonStructure\": {\n    \"title\": {\n      \"text\": \"{{title.text|¬°Bienvenido a Waymore!}}\",\n      \"size\": \"{{title.size|28px}}\",\n      \"weight\": \"{{title.weight|700}}\",\n      \"color\": \"{{title.color|#1f2937}}\",\n      \"align\": \"{{title.align|center}}\"\n    },\n    \"body\": {\n      \"paragraphs\": [\n        \"{{greeting|¬°Hola}} {{user_name|Juan}}, {{welcome.message|bienvenido a nuestra plataforma!}}\",\n        \"{{body.instruction|Estamos emocionados de tenerte a bordo. Haz clic en el bot√≥n de abajo para comenzar:}}\"\n      ],\n      \"fontSize\": \"{{body.fontSize|16px}}\",\n      \"lineHeight\": \"{{body.lineHeight|26px}}\"\n    },\n    \"actions\": {\n      \"primary\": {\n        \"label\": \"{{actions.primary.label|Comenzar}}\",\n        \"url\": \"{{dashboard_url|https://app.example.com}}\",\n        \"style\": \"{{actions.primary.style|button}}\",\n        \"color\": \"{{actions.primary.color|#3b82f6}}\",\n        \"text_color\": \"{{actions.primary.text_color|#ffffff}}\"\n      }\n    },\n    \"footer\": {\n      \"tagline\": \"{{footer.tagline|Waymore - Tu Socio de √âxito}}\",\n      \"copyright\": \"{{footer.copyright|¬© 2024 Waymore. Todos los derechos reservados.}}\"\n    }\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}/locales",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}", "locales"]
            },
            "description": "Add a locale-specific version of a template with fallback syntax validation.\n\n‚ö†Ô∏è **IMPORTANT**: The system validates fallback syntax to prevent Handlebars parsing errors.\n\n‚úÖ **Valid fallback syntax**: `{{variable|fallback_value}}`\n‚ùå **Invalid fallback syntax**: `{{variable|text with {{nested}} variables}}`\n\n**Error codes**:\n- `INVALID_FALLBACK_SYNTAX`: Nested variables in fallback values\n- `INVALID_LOCALE`: Invalid locale code format\n- `TEMPLATE_NOT_FOUND`: Template key doesn't exist"
          }
        },
        {
          "name": "Add Locale (Invalid Fallback - Will Fail)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"locale\": \"{{locale}}\",\n  \"jsonStructure\": {\n    \"title\": {\n      \"text\": \"{{title.text|Welcome to {{company_name|Waymore}}}}\",\n      \"size\": \"{{title.size|28px}}\",\n      \"weight\": \"{{title.weight|700}}\",\n      \"color\": \"{{title.color|#1f2937}}\",\n      \"align\": \"{{title.align|center}}\"\n    },\n    \"body\": {\n      \"paragraphs\": [\n        \"{{greeting|Hello}} {{user_name|John}}, {{welcome.message|welcome to {{company_name|Waymore}}!}}\",\n        \"{{body.instruction|Click here to reset password for {{company.name|Waymore}}}}\"\n      ],\n      \"fontSize\": \"{{body.fontSize|16px}}\",\n      \"lineHeight\": \"{{body.lineHeight|26px}}\"\n    },\n    \"footer\": {\n      \"tagline\": \"{{footer.tagline|Powered by {{company.name|Waymore}}}}\",\n      \"copyright\": \"{{footer.copyright|¬© 2024 {{company.name|Waymore}}. All rights reserved.}}\"\n    }\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}/locales",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}", "locales"]
            },
            "description": "‚ùå **DEMONSTRATION**: This request will FAIL due to invalid nested fallback syntax.\n\n**Expected Error**: `INVALID_FALLBACK_SYNTAX`\n\n**Invalid patterns in this request**:\n- `{{title.text|Welcome to {{company_name|Waymore}}}}`\n- `{{welcome.message|welcome to {{company_name|Waymore}}!}}`\n- `{{body.instruction|Click here to reset password for {{company.name|Waymore}}}}`\n- `{{footer.tagline|Powered by {{company.name|Waymore}}}}`\n\n**Fix**: Use separate variables instead of nested fallbacks."
          }
        },
        {
          "name": "Update Locale",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jsonStructure\": {\n    \"title\": {\n      \"text\": \"¬°Bienvenido a {{company_name}}!\",\n      \"size\": \"32px\",\n      \"weight\": \"700\",\n      \"color\": \"#1f2937\",\n      \"align\": \"center\"\n    },\n    \"body\": {\n      \"paragraphs\": [\n        \"¬°Hola {{user_name}}, bienvenido a {{company_name}}!\",\n        \"Estamos emocionados de tenerte a bordo.\"\n      ],\n      \"fontSize\": \"16px\",\n      \"lineHeight\": \"26px\"\n    }\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}/locales/{{locale}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}", "locales", "{{locale}}"]
            },
            "description": "Update a locale-specific version of a template with fallback syntax validation.\n\n‚ö†Ô∏è **IMPORTANT**: The system validates fallback syntax to prevent Handlebars parsing errors.\n\n‚úÖ **Valid fallback syntax**: `{{variable|fallback_value}}`\n‚ùå **Invalid fallback syntax**: `{{variable|text with {{nested}} variables}}`\n\n**Error codes**:\n- `INVALID_FALLBACK_SYNTAX`: Nested variables in fallback values\n- `INVALID_LOCALE`: Invalid locale code format\n- `TEMPLATE_NOT_FOUND`: Template key doesn't exist"
          }
        },
        {
          "name": "Delete Locale",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}/locales/{{locale}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}", "locales", "{{locale}}"]
            },
            "description": "Delete a locale-specific version of a template. Locale in URL must be a valid ISO 639-1 language code (e.g., 'en', 'es', 'fr', 'de')."
          }
        },
        {
          "name": "Validate Template Structure",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"template\": {\n    \"key\": \"transactional\",\n    \"locale\": \"en\"\n  },\n  \"variables\": {\n    \"workspace_name\": \"Waymore\",\n    \"user_firstname\": \"John\",\n    \"dashboard_url\": \"https://app.waymore.io/dashboard\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/templates/validate",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "validate"]
            },
            "description": "Validate a template structure without specifying a template key (for general template validation)."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"template\": {\n    \"key\": \"transactional\",\n    \"locale\": \"en\"\n  },\n  \"variables\": {\n    \"workspace_name\": \"Waymore\",\n    \"user_firstname\": \"John\",\n    \"dashboard_url\": \"https://app.waymore.io/dashboard\"\n  }\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/v1/templates/validate",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "templates", "validate"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"valid\": true,\n  \"errors\": [],\n  \"warnings\": [\n    {\n      \"type\": \"missing_optional_variable\",\n      \"field\": \"footer.copyright\",\n      \"message\": \"Consider adding copyright text for better branding\"\n    }\n  ],\n  \"template\": {\n    \"key\": \"transactional\",\n    \"name\": \"Transactional Email Template\",\n    \"category\": \"transactional\"\n  }\n}"
            }
          ]
        },
        {
          "name": "Validate Template Variables",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"variables\": {\n    \"user_name\": \"John Doe\",\n    \"company_name\": \"Waymore\",\n    \"dashboard_url\": \"https://app.waymore.io/dashboard\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}/validate",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}", "validate"]
            },
            "description": "Validate template variables against the template's schema."
          }
        },
        {
          "name": "Get Template Variables",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}/variables",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}", "variables"]
            },
            "description": "Get the variable schema for a template."
          }
        },
        {
          "name": "Get Template Documentation",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}/docs",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}", "docs"]
            },
            "description": "Get comprehensive documentation for a template."
          }
        },
        {
          "name": "Get Template Detected Variables",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}/detected-variables",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}", "detected-variables"]
            },
            "description": "Get automatically detected variables from template structure."
          }
        },
        {
          "name": "Preview Template",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/templates/{{template_key}}/preview?locale={{locale}}&variables={{variables}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "{{template_key}}", "preview"],
              "query": [
                {
                  "key": "locale",
                  "value": "{{locale}}",
                  "description": "Template locale - must be valid ISO 639-1 language code (e.g., 'en', 'es', 'fr', 'de')"
                },
                {
                  "key": "variables",
                  "value": "{{variables}}",
                  "description": "JSON string of template variables"
                }
              ]
            },
            "description": "Preview a template with sample data. Returns rendered HTML. Locale in URL must be a valid ISO 639-1 language code (e.g., 'en', 'es', 'fr', 'de')."
          }
        },
        {
          "name": "Generate Template Preview",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"templateStructure\": {\n    \"title\": {\n      \"text\": \"Welcome to {{company_name}}!\",\n      \"size\": \"28px\",\n      \"weight\": \"700\",\n      \"color\": \"#1f2937\",\n      \"align\": \"center\"\n    },\n    \"body\": {\n      \"paragraphs\": [\n        \"Hello {{user_name}}, welcome to {{company_name}}!\",\n        \"We're excited to have you on board. Click the button below to get started:\"\n      ],\n      \"fontSize\": \"16px\",\n      \"lineHeight\": \"26px\"\n    },\n    \"actions\": {\n      \"primary\": {\n        \"label\": \"Get Started\",\n        \"url\": \"{{dashboard_url}}\",\n        \"style\": \"button\",\n        \"color\": \"#3b82f6\",\n        \"text_color\": \"#ffffff\"\n      }\n    },\n    \"footer\": {\n      \"tagline\": \"{{company_name}} - Your Success Partner\",\n      \"copyright\": \"¬© 2024 {{company_name}}. All rights reserved.\"\n    }\n  },\n  \"variables\": {\n    \"company_name\": \"Waymore\",\n    \"user_name\": \"John Doe\",\n    \"dashboard_url\": \"https://app.waymore.io\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/templates/preview",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "templates", "preview"]
            },
            "description": "Generate a preview of template structure without saving to database."
          }
        }
      ]
    },
    {
      "name": "Development Endpoints",
      "item": [
        {
          "name": "Generate Test Token",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/test-token",
              "host": ["{{base_url}}"],
              "path": ["test-token"]
            },
            "description": "Generate a JWT token for testing API endpoints (development only)."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/test-token",
                  "host": ["{{base_url}}"],
                  "path": ["test-token"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"expiresIn\": \"1 hour\",\n  \"scopes\": [\"emails:send\", \"emails:read\"]\n}"
            }
          ]
        }
      ]
    }
  ]
}